1. 进程开始
   以main函数开始执行。当内核执行C程序时，在调用main前先调用一个特殊的启动例程。可执行程序将此启动例程指定为程序的起始地址——这是由链接编辑器设置的，而链接编辑器则由C编译器调用。启动例程从内核取得命令行参数和环境变量值，然后为按上述方式调用做好安排。
   
2. 进程终止
   有8种终止方式，前5种为正常终止：

   1. 从main返回
   2. 调用exit
   3. 调用_exit或_Exit
   4. 最后一个线程从启动例程返回
   5. 从最后一个线程调用pthread_exit

   异常终止有3种：

   6. 调用abort
   7. 遇到一个信号
   8. 最后一个线程对取消请求做出响应

3. `atexit`函数

   `一个进程可以通过`atexit`函数登记至多32个函数作为终止处理程序（exit handler），这些函数将在程序终止时有`exit`自动调用。

   调用顺序与登记顺序相反，登记多次也会调用多次。

   如若程序调用`exec`函数族中任一函数，则将清除所有已安装的终止处理程序。

4. `exit`函数
   `_exit`和`_Exit`立即进入内核，`exit`首先调用各终止处理程序，然后通过`fclose`关闭所有打开流，这造成输出缓冲中的所有数据都被冲洗（写到文件上）。

5. ![](https://holy-nirvana.oss-cn-beijing.aliyuncs.com/blog-pic/7-2.png)内核使程序执行的唯一方法是调用一个`exec`函数。进程自愿终止的唯一方法是显示或隐式地（通过调用`exit`）调用`_exit`或`_Exit`。进程也可非自愿地由一个信号使其终止。

